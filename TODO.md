# Open TODOs in Codebase

**All test compilation errors have been resolved!**

Next, we will address the compilation warnings.

---

## 1. Compilation Warnings (Next Priority)

- **Action:** Review all compilation warnings generated by `scripts/summarize_test_errors.sh`.
- **Fix:**
  - Address undefined function warnings by ensuring correct imports, aliases, or function definitions.
  - Fix private function warnings by ensuring correct function visibility or usage.
  - Resolve unused variable warnings by prefixing them with an underscore or removing them.
  - Correct deprecated function usage.
  - Group clauses of the same name and arity together.
  - Address any other warnings to ensure a clean build.

**Progress Component:**

- All test failures related to KeyError and theme/style merging are now resolved.
- Deep merge for theme is implemented, so nested theme updates are robust.
- All tests for the Progress component now pass.
- Next: address remaining warnings (e.g., String.slice/2 negative steps, unused variables, etc).

---

## Previously Prioritized Test Errors (Resolved)

The following test error categories were previously prioritized and have been resolved by fixing all compilation errors. The `tmp/test_error_summary.txt` file is now empty.

### 1.1. UndefinedFunctionError (Resolved)

- **Action:** Identify missing or misnamed functions (e.g., StateManager.initialize/1, TextFormatting.default_style/0, etc.).
- **Fix:** Implement, alias, or mock these functions as needed. Ensure all test mocks match the real API.

### 1.2. KeyError (Resolved)

- **Action:** Review test data and struct initializations for missing keys (e.g., :cursor, :output_buffer, :window_state).
- **Fix:** Ensure all required keys are present in test setup and pattern matches.

### 1.3. MatchError (Resolved)

- **Action:** Check test assertions and setup for incorrect pattern matches (e.g., expecting :ok but getting {:error, ...}).
- **Fix:** Update matches to handle all possible return values, especially error tuples.

### 1.4. FunctionClauseError (Resolved)

- **Action:** Review function calls for incorrect arity or argument types (e.g., Keyword.get/3, Access.get/3, etc.).
- **Fix:** Ensure all function calls match the expected signatures and types.

### 1.5. Mox Verification Errors (Resolved)

- **Action:** Ensure all expected calls to mocks are made in tests.
- **Fix:** Add or correct mock expectations as needed.

### 1.6. Warnings & Assertion Failures (Partially Addressed - Warnings Remain)

- **Action:** Address warnings about invalid parameters, unknown operations, and assertion failures.
- **Fix:** Clean up test logic and parameter handling for reliability. (Compilation warnings are now the next focus).

---

**Recommended workflow:**

- Address all compilation warnings.
- Re-run tests to ensure no new errors have been introduced.
- Proceed with other development tasks.
